{"version":3,"file":"static/webpack/static\\development\\pages\\change_currency.js.9bcf5ada870897268c4b.hot-update.js","sources":["webpack:///./pages/change_currency.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport axios from 'axios';\r\n\r\n//import {InputCurrency} from '../components/InputCurrency';\r\n//import {SelectCurrency} from '../components/SelectCurrency';\r\n\r\n\r\nclass SelectCurrency extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\t//this.state = {order: this.props.order}\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tconst order = this.props.order;\r\n\t\tconst selected = event.target.value;\r\n\t\tthis.props.onChange(selected, order);\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet temp_arr = [<option value=\"\">請選擇</option>];\r\n\t\tlet all_rate = this.props.all_rate;\r\n\t\tfor (let item in all_rate.data.rates) {\r\n\t\t\ttemp_arr.push(<option value={item}>{item}</option>);\r\n\t\t}\r\n\t\treturn <select onChange={this.handleChange}>{temp_arr}</select>;\r\n\t}\r\n}\r\n\r\n\r\nclass InputCurrency extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\thandleChange(event) {\r\n\t\tconst howMuch = event.target.value;\r\n\t\tthis.props.onChange(howMuch);\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t請輸入您想要換匯的金額<br />\r\n\t\t\t\t<input type=\"text\" onChange={this.handleChange} /><span>{this.props.currency.first}</span><br />\r\n\t\t\t\t總共可換成<br />\r\n\t\t\t\t<input type=\"text\" readonly=\"readonly\" value={this.props.amount}/><span>{this.props.currency.second}</span>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nclass Exchange extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {amount: 0, currency: {first: null, second: null}, selected_rate: null, all_rate: {data: {rates: null}}};\r\n\t\tthis.changeSelect = this.changeSelect.bind(this);\r\n\t\tthis.changeInput = this.changeInput.bind(this);\r\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tlet self = this;\r\n\r\n\t\taxios.get('http://data.fixer.io/api/latest?access_key=e8984e205db89c1c5523644643ed7d28')\r\n\t\t.then(function (response) {\r\n\t\t\tself.setState({all_rate: response});\r\n\t\t})\r\n\t\t.catch(function (error) {\r\n\t\t})\r\n\t}\r\n\r\n\tchangeSelect(selected, order) {\r\n\t\tconst currencies = this.state.currency;\r\n\t\tcurrencies[order] = selected;\r\n\t\tconsole.log(currencies);\r\n\t\tthis.setState({currency: currencies});\r\n\t\tif (currencies.first != null && currencies.second != null) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tselected_rate: this.state.all_rate.data.rates[currencies.first]/this.state.all_rate.data.rates[currencies.second]\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tchangeInput(howMuch) {\r\n\t\tconst new_howMuch = howMuch/this.state.selected_rate;\r\n\t\tthis.setState({amount: new_howMuch});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconsole.log('up');\r\n\t\treturn (\r\n\t\t\t<div className=\"text-center p-3\">\r\n\t\t\t\t我想要將\r\n\t\t\t\t<SelectCurrency onChange={this.changeSelect} order=\"first\" all_rate={this.state.all_rate} />\r\n\t\t\t\t換成\r\n\t\t\t\t<SelectCurrency onChange={this.changeSelect} order=\"second\" all_rate={this.state.all_rate} />\r\n\t\t\t\t<br />\r\n\t\t\t\t<InputCurrency onChange={this.changeInput} amount={this.state.amount} currency={this.state.currency}/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nfunction change_currency_app() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Header />\r\n\t\t\t<Exchange />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\nexport default change_currency_app\r\n//ReactDOM.render(<Exchange />, document.getElementById('app'));"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAGA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AAHA;AAIA;AACA;;;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AApBA;AACA;AAuBA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AApBA;AACA;AAuBA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAMA;AACA;;;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AACA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAjDA;AACA;AAoDA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;;;;A","sourceRoot":""}