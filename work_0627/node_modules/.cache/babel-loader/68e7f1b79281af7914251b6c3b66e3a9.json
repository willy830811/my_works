{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nimport { downloadData } from '../actions';\n/**/\n\nvar index = 0;\nvar limit = 10;\nvar lat = 25;\nvar lon = 121; //\n\nfunction DownloadData() {\n  var store = window.appStore;\n\n  if (typeof navigator !== 'undefined') {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(function (res) {\n        console.log(res.coords.latitude);\n        lat = res.coords.latitude;\n        lon = res.coords.longitude;\n      }, function (error) {\n        console.log(error);\n      });\n    } else {\n      console.log(\"Geolocation is not supported by this browser.\");\n    }\n  }\n\n  console.log(lat);\n  axios.post('http://test1.hokhang.com/hksCloudService/getEventService.php?appId=119871&dataGroupCode=01&primaryCategory=&index=' + index + '&limit=' + limit + '&lat=' + lat + '&lon=' + lon).then(function (response) {\n    store.dispatch(downloadData(response.data.branch));\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nexport default DownloadData;","map":{"version":3,"sources":["C:\\Users\\李威\\Desktop\\my_works\\work_0627\\components\\DownloadData.js"],"names":["React","axios","downloadData","index","limit","lat","lon","DownloadData","store","window","appStore","navigator","geolocation","getCurrentPosition","res","console","log","coords","latitude","longitude","error","post","then","response","dispatch","data","branch","catch"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,YAA7B;AAEA;;AACA,IAAIC,KAAK,GAAG,CAAZ;AACA,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,GAAG,GAAG,EAAV;AACA,IAAIC,GAAG,GAAE,GAAT,C,CAIA;;AAKA,SAASC,YAAT,GAAwB;AACvB,MAAMC,KAAK,GAAGC,MAAM,CAACC,QAArB;;AAGD,MAAI,OAAOC,SAAP,KAAqB,WAAzB,EAAsC;AACrC,QAAIA,SAAS,CAACC,WAAd,EAA2B;AAC1BD,MAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,UAASC,GAAT,EAAa;AACrDC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,MAAJ,CAAWC,QAAvB;AACAb,QAAAA,GAAG,GAAGS,GAAG,CAACG,MAAJ,CAAWC,QAAjB;AACAZ,QAAAA,GAAG,GAAGQ,GAAG,CAACG,MAAJ,CAAWE,SAAjB;AACA,OAJD,EAIG,UAASC,KAAT,EAAe;AACjBL,QAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AAEA,OAPD;AAQA,KATD,MASO;AACNL,MAAAA,OAAO,CAACC,GAAR,CAAY,+CAAZ;AACA;AACD;;AAEDD,EAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ;AAECJ,EAAAA,KAAK,CAACoB,IAAN,CAAW,uHAAqHlB,KAArH,GAA2H,SAA3H,GAAqIC,KAArI,GAA2I,OAA3I,GAAmJC,GAAnJ,GAAuJ,OAAvJ,GAA+JC,GAA1K,EACGgB,IADH,CACQ,UAAUC,QAAV,EAAoB;AAC1Bf,IAAAA,KAAK,CAACgB,QAAN,CAAetB,YAAY,CAACqB,QAAQ,CAACE,IAAT,CAAcC,MAAf,CAA3B;AACA,GAHF,EAGIC,KAHJ,CAGU,UAAUP,KAAV,EAAiB;AACzBL,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,GALD;AAMA;;AAID,eAAeb,YAAf","sourcesContent":["import React from 'react'\r\nimport axios from 'axios'\r\nimport { downloadData } from '../actions'\r\n\r\n/**/\r\nlet index = 0;\r\nlet limit = 10;\r\nlet lat = 25;\r\nlet lon =121;\r\n\r\n\r\n\r\n//\r\n\r\n\r\n\r\n\r\nfunction DownloadData() {\r\n\tconst store = window.appStore\r\n\r\n\r\nif (typeof navigator !== 'undefined') {\r\n\tif (navigator.geolocation) {\r\n\t\tnavigator.geolocation.getCurrentPosition(function(res){\r\n\t\t\tconsole.log(res.coords.latitude);\r\n\t\t\tlat = res.coords.latitude;\r\n\t\t\tlon = res.coords.longitude;\r\n\t\t}, function(error){\r\n\t\t\tconsole.log(error);\r\n\t\t\t\r\n\t\t});\r\n\t} else {\r\n\t\tconsole.log(\"Geolocation is not supported by this browser.\");\r\n\t}\r\n}\r\n\r\nconsole.log(lat);\r\n\r\n\taxios.post('http://test1.hokhang.com/hksCloudService/getEventService.php?appId=119871&dataGroupCode=01&primaryCategory=&index='+index+'&limit='+limit+'&lat='+lat+'&lon='+lon\r\n\t\t).then(function (response) {\r\n\t\t\tstore.dispatch(downloadData(response.data.branch));\r\n\t\t}).catch(function (error) {\r\n\t\t\tconsole.log(error);\r\n\t});\r\n}\r\n\r\n\r\n\r\nexport default DownloadData"]},"metadata":{},"sourceType":"module"}