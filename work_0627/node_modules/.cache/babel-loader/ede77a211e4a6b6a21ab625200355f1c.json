{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u674E\\u5A01\\\\Desktop\\\\my_works\\\\work_0627\\\\components\\\\ShopMap.js\";\nimport React from \"react\";\nimport { connect } from 'react-redux';\n/* compose版\r\nimport { compose, withProps } from \"recompose\"\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\n\r\nconst MyMapComponent = compose(\r\n\twithProps({\r\n\t\tgoogleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCt95qTXK2VBIGWxB8CiCWe8eBV475edOg&v=3.exp&libraries=geometry,drawing,places\",\r\n\t\tloadingElement: <div style={{ height: `100%` }} />,\r\n\t\tcontainerElement: <div style={{ height: `400px` }} />,\r\n\t\tmapElement: <div style={{ height: `100%` }} />,\r\n\t}),\r\n\twithScriptjs,\r\n\twithGoogleMap,\r\n)((props) =>\r\n\t<GoogleMap\r\n\t\tdefaultZoom={15}\r\n\t\tdefaultCenter={{ lat: 24.986913, lng: 121.455948 }}\r\n\t>\r\n\t\t{props.isMarkerShown && <Marker position={{ lat: 24.986913, lng: 121.455948 }} onClick={props.onMarkerClick} />}\r\n\t</GoogleMap>\r\n)\r\n*/\n\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\";\nvar MyMapComponent = withScriptjs(withGoogleMap(function (props) {\n  return React.createElement(GoogleMap, {\n    defaultZoom: 8,\n    defaultCenter: {\n      lat: -34.397,\n      lng: 150.644\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, props.isMarkerShown && React.createElement(Marker, {\n    position: {\n      lat: -34.397,\n      lng: 150.644\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }));\n}));\n/*\r\n{\r\n\t\t\tthis.props.shops.map((shop) => (\r\n\t\t\t\t<Marker position={{ lat: shop.lat, lng: shop.lon }} onClick={props.onMarkerClick} />\r\n\t\t\t))\r\n\t\t}\r\n*/\n\nvar ShopMap =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(ShopMap, _React$PureComponent);\n\n  function ShopMap() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ShopMap);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ShopMap)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isMarkerShown: true\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"delayedShowMarker\", function () {\n      setTimeout(function () {\n        _this.setState({\n          isMarkerShown: true\n        });\n      }, 3000);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMarkerClick\", function () {\n      _this.setState({\n        isMarkerShown: false\n      });\n\n      _this.delayedShowMarker();\n    });\n\n    return _this;\n  }\n\n  _createClass(ShopMap, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.delayedShowMarker();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return (\n        /* compose版\r\n        \t\t\t<MyMapComponent\r\n        \t\t\t\tisMarkerShown={this.state.isMarkerShown}\r\n        \t\t\t\tonMarkerClick={this.handleMarkerClick}\r\n        \t\t\t/>\r\n        */\n        React.createElement(MyMapComponent, {\n          isMarkerShown: true,\n          googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCt95qTXK2VBIGWxB8CiCWe8eBV475edOg&v=3.exp&libraries=geometry,drawing,places\",\n          loadingElement: React.createElement(\"div\", {\n            style: {\n              height: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }),\n          containerElement: React.createElement(\"div\", {\n            style: {\n              height: \"400px\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }),\n          mapElement: React.createElement(\"div\", {\n            style: {\n              height: \"100%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        })\n      );\n    }\n  }]);\n\n  return ShopMap;\n}(React.PureComponent); //shops = {this.props.shops}\n\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    shops: state.data\n  };\n};\n/*\r\nconst mapDispatchToProps = dispatch => ({\r\n\tpreviousPage: () => dispatch(previousPage())\r\n})\r\n*/\n\n\nexport default connect(mapStateToProps, null)(ShopMap); //export default ShopMap","map":{"version":3,"sources":["C:\\Users\\李威\\Desktop\\my_works\\work_0627\\components\\ShopMap.js"],"names":["React","connect","withScriptjs","withGoogleMap","GoogleMap","Marker","MyMapComponent","props","lat","lng","isMarkerShown","ShopMap","setTimeout","setState","delayedShowMarker","height","PureComponent","mapStateToProps","state","shops","data"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA;;;;;;;;;;;;;;;;;;;;;;;AAsBA,SAASC,YAAT,EAAuBC,aAAvB,EAAsCC,SAAtC,EAAiDC,MAAjD,QAA+D,mBAA/D;AAEA,IAAMC,cAAc,GAAGJ,YAAY,CAACC,aAAa,CAAC,UAACI,KAAD;AAAA,SAChD,oBAAC,SAAD;AACE,IAAA,WAAW,EAAE,CADf;AAEE,IAAA,aAAa,EAAE;AAAEC,MAAAA,GAAG,EAAE,CAAC,MAAR;AAAgBC,MAAAA,GAAG,EAAE;AAArB,KAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIGF,KAAK,CAACG,aAAN,IAAuB,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE;AAAEF,MAAAA,GAAG,EAAE,CAAC,MAAR;AAAgBC,MAAAA,GAAG,EAAE;AAArB,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJ1B,CADgD;AAAA,CAAD,CAAd,CAAnC;AAWA;;;;;;;;IAWME,O;;;;;;;;;;;;;;;;;;4DACG;AACPD,MAAAA,aAAa,EAAE;AADR,K;;wEAQY,YAAM;AACzBE,MAAAA,UAAU,CAAC,YAAM;AAChB,cAAKC,QAAL,CAAc;AAAEH,UAAAA,aAAa,EAAE;AAAjB,SAAd;AACA,OAFS,EAEP,IAFO,CAAV;AAGA,K;;wEAEmB,YAAM;AACzB,YAAKG,QAAL,CAAc;AAAEH,QAAAA,aAAa,EAAE;AAAjB,OAAd;;AACA,YAAKI,iBAAL;AACA,K;;;;;;;wCAbmB;AACnB,WAAKA,iBAAL;AACA;;;6BAaQ;AACR;AACF;;;;;;AAMG,4BAAC,cAAD;AACC,UAAA,aAAa,MADd;AAEC,UAAA,YAAY,EAAC,+HAFd;AAGC,UAAA,cAAc,EAAE;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,MAAM;AAAR,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHjB;AAIC,UAAA,gBAAgB,EAAE;AAAK,YAAA,KAAK,EAAE;AAAEA,cAAAA,MAAM;AAAR,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJnB;AAKC,UAAA,UAAU,EAAE;AAAK,YAAA,KAAK,EAAE;AAAEA,cAAAA,MAAM;AAAR,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPD;AAeA;;;;EApCoBf,KAAK,CAACgB,a,GAuC5B;;;AAGA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AACjCC,IAAAA,KAAK,EAAED,KAAK,CAACE;AADoB,GAAL;AAAA,CAA7B;AAGA;;;;;;;AAMA,eAAenB,OAAO,CACrBgB,eADqB,EAErB,IAFqB,CAAP,CAGbN,OAHa,CAAf,C,CAKA","sourcesContent":["import React from \"react\"\r\nimport { connect } from 'react-redux'\r\n\r\n/* compose版\r\nimport { compose, withProps } from \"recompose\"\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\n\r\nconst MyMapComponent = compose(\r\n\twithProps({\r\n\t\tgoogleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCt95qTXK2VBIGWxB8CiCWe8eBV475edOg&v=3.exp&libraries=geometry,drawing,places\",\r\n\t\tloadingElement: <div style={{ height: `100%` }} />,\r\n\t\tcontainerElement: <div style={{ height: `400px` }} />,\r\n\t\tmapElement: <div style={{ height: `100%` }} />,\r\n\t}),\r\n\twithScriptjs,\r\n\twithGoogleMap,\r\n)((props) =>\r\n\t<GoogleMap\r\n\t\tdefaultZoom={15}\r\n\t\tdefaultCenter={{ lat: 24.986913, lng: 121.455948 }}\r\n\t>\r\n\t\t{props.isMarkerShown && <Marker position={{ lat: 24.986913, lng: 121.455948 }} onClick={props.onMarkerClick} />}\r\n\t</GoogleMap>\r\n)\r\n*/\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\n\r\nconst MyMapComponent = withScriptjs(withGoogleMap((props) =>\r\n  <GoogleMap\r\n    defaultZoom={8}\r\n    defaultCenter={{ lat: -34.397, lng: 150.644 }}\r\n  >\r\n    {props.isMarkerShown && <Marker position={{ lat: -34.397, lng: 150.644 }} />}\r\n  </GoogleMap>\r\n))\r\n\r\n\r\n\r\n/*\r\n{\r\n\t\t\tthis.props.shops.map((shop) => (\r\n\t\t\t\t<Marker position={{ lat: shop.lat, lng: shop.lon }} onClick={props.onMarkerClick} />\r\n\t\t\t))\r\n\t\t}\r\n*/\r\n\r\n\r\n\r\n\r\nclass ShopMap extends React.PureComponent {\r\n\tstate = {\r\n\t\tisMarkerShown: true,\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.delayedShowMarker()\r\n\t}\r\n\r\n\tdelayedShowMarker = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ isMarkerShown: true })\r\n\t\t}, 3000)\r\n\t}\r\n\r\n\thandleMarkerClick = () => {\r\n\t\tthis.setState({ isMarkerShown: false })\r\n\t\tthis.delayedShowMarker()\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n/* compose版\r\n\t\t\t<MyMapComponent\r\n\t\t\t\tisMarkerShown={this.state.isMarkerShown}\r\n\t\t\t\tonMarkerClick={this.handleMarkerClick}\r\n\t\t\t/>\r\n*/\r\n\t\t\t<MyMapComponent\r\n\t\t\t\tisMarkerShown\r\n\t\t\t\tgoogleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCt95qTXK2VBIGWxB8CiCWe8eBV475edOg&v=3.exp&libraries=geometry,drawing,places\"\r\n\t\t\t\tloadingElement={<div style={{ height: `100%` }} />}\r\n\t\t\t\tcontainerElement={<div style={{ height: `400px` }} />}\r\n\t\t\t\tmapElement={<div style={{ height: `100%` }} />}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n//shops = {this.props.shops}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n\tshops: state.data\r\n})\r\n/*\r\nconst mapDispatchToProps = dispatch => ({\r\n\tpreviousPage: () => dispatch(previousPage())\r\n})\r\n*/\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tnull\r\n)(ShopMap)\r\n\r\n//export default ShopMap"]},"metadata":{},"sourceType":"module"}